/**
 * @copyright 2018 Amin NAIRI
 * @license MIT
 */

function baseDirectory(e){if(void 0===e&&(e=""),"string"!=typeof e)throw TypeError("first argument expected to be of type string, "+typeof e+" provided");var t=(/\w/i.exec(e)||{index:0}).index,r=e.indexOf("/",t);return normalize(-1===r?e.slice(0,t):e.slice(0,r))}function baseFile(e){if("string"!=typeof e)throw TypeError("first argument expected to be of type string, "+typeof e+" provided");return e.replace(/^(\.\.\/|\.\/|\/)?(.*?\/)/,"")}function generateHtml(e){var t=void 0===e?{}:e,r=t.charset,i=void 0===r?"utf-8":r,o=t.title,n=void 0===o?"My Application":o,p=t.lang,f=void 0===p?"en-US":p,d=t.path,y=void 0===d?"":d,s=t.publicPath,c=void 0===s?"":s;if("string"!=typeof i)throw TypeError("first argument expected to be of type string, "+typeof i+" provided");if("string"!=typeof n)throw TypeError("second argument expected to be of type string, "+typeof n+" provided");if("string"!=typeof f)throw TypeError("third argument expected to be of type string, "+typeof f+" provided");if("string"!=typeof y)throw TypeError("fourth argument expected to be of type string, "+typeof y+" provided");if("string"!=typeof c)throw TypeError("fifth argument expected to be of type string, "+typeof c+" provided");return{generateBundle:function(e){var t=this,r=e.file;if("string"!=typeof r)throw TypeError("fifth argument expected to be of type string, "+typeof c+" provided");var o=baseDirectory(r),p=resolve(y||o,"index.html"),d=baseDirectory(p),s=require("pretty")("<!doctype html><html lang='"+f+"'><head><meta charset='"+i+"'><title>"+n+"</title></head><body><script src='"+join(c,baseFile(r))+"'><\/script></body></html>",{ocd:!0});existsSync(d)||mkdirSync(d),writeFile(p,s,"utf-8",function(e){return e&&t.error(e)})}}}import{normalize,join,resolve}from"path";import{writeFile,existsSync,mkdirSync}from"fs";export{generateHtml};
