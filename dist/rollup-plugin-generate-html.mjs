function baseDirectory(t){const e=/\w/i.exec(t).index,i=t.indexOf("/",e);return-1===i?t.slice(0,e):t.slice(0,i)}function fileToScript(t){return function(e){return`<script src='${t}${e}'><\/script>`}}function scriptTagsFrom(t,e){return Object.keys(t).map(fileToScript(e)).join("")}import{resolve}from"path";import{writeFile}from"fs";const pretty=require("pretty"),generateHtml=({charset:charset="utf-8",title:title="My Application",lang:lang="en-US",path:path,publicPath:publicPath="./"}={})=>({generateBundle({file:file},t){console.log(t);const e=resolve(path||baseDirectory(file),"index.html"),i=pretty(`<!doctype html><html lang='${lang}'><head><meta charset='${charset}'><title>${title}</title></head><body>${scriptTagsFrom(t,publicPath)}</body></html>`,{ocd:!0});writeFile(e,i,"utf-8",t=>t&&this.error(t))}});export{generateHtml};
